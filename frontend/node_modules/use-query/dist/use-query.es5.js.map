{"version":3,"file":"use-query.es5.js","sources":["../src/use-query.ts"],"sourcesContent":["import { useState, useMemo, useEffect } from 'react';\n\nexport default function useQuery(\n  fn: () => Promise<any>,\n  args: ReadonlyArray<any>\n): {\n  loading: boolean;\n  data?: any;\n  error?: any;\n} {\n  const [state, setState] = useState({\n    loading: true,\n    data: null,\n    error: null\n  });\n  const memoized = useMemo(fn, args);\n  useEffect(() => {\n    Promise.resolve(memoized).then(\n      (data: any) => setState({ loading: false, data, error: null }),\n      (error: any) => setState({ loading: false, data: null, error })\n    );\n  }, [memoized]);\n  return state;\n}\n"],"names":[],"mappings":";;SAEwB,QAAQ,CAC9B,EAAsB,EACtB,IAAwB;IAMlB,IAAA;;;;MAIJ,EAJK,aAAK,EAAE,gBAIZ,CAAC;IACH,IAAM,QAAQ,GAAG,OAAO,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;IACnC,SAAS,CAAC;QACR,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,CAC5B,UAAC,IAAS,IAAK,OAAA,QAAQ,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,MAAA,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,GAAA,EAC9D,UAAC,KAAU,IAAK,OAAA,QAAQ,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,OAAA,EAAE,CAAC,GAAA,CAChE,CAAC;KACH,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;IACf,OAAO,KAAK,CAAC;CACd;;;;"}