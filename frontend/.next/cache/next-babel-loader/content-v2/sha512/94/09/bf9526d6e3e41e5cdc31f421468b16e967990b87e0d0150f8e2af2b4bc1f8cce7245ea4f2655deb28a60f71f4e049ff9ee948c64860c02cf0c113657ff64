{"ast":null,"code":"import clientPromise from '../../lib/mongodb';\nimport { ObjectId } from 'mongodb'; // /api/edit-record\n// PUT /api/edit-record\n\nasync function handler(req, res) {\n  if (req.method === 'PUT') {\n    const data = req.body;\n    console.log(\"Data to be edit\", data);\n    const client = await clientPromise;\n    const db = client.db('Education');\n    const recordsCollections = db.collection('uni-record');\n    const result = await recordsCollections.findOneAndUpdate({\n      _id: ObjectId(data.id)\n    }, {\n      $set: {\n        name: data.name,\n        from: data.from,\n        to: data.to\n      }\n    }, {\n      returnOriginal: false,\n      upsert: true\n    });\n    console.log(result);\n    res.status(201).json({\n      message: 'Record Updated!'\n    });\n  }\n}\n\nexport default handler;","map":{"version":3,"sources":["/home/hp/Projects/upspring/frontend/pages/api/edit-record.js"],"names":["clientPromise","ObjectId","handler","req","res","method","data","body","console","log","client","db","recordsCollections","collection","result","findOneAndUpdate","_id","id","$set","name","from","to","returnOriginal","upsert","status","json","message"],"mappings":"AAAA,OAAOA,aAAP,MAA0B,mBAA1B;AACA,SAASC,QAAT,QAAyB,SAAzB,C,CAEA;AACA;;AAEA,eAAeC,OAAf,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiC;AAC/B,MAAID,GAAG,CAACE,MAAJ,KAAe,KAAnB,EAA0B;AAExB,UAAMC,IAAI,GAAGH,GAAG,CAACI,IAAjB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BH,IAA/B;AAEA,UAAMI,MAAM,GAAG,MAAMV,aAArB;AACA,UAAMW,EAAE,GAAGD,MAAM,CAACC,EAAP,CAAU,WAAV,CAAX;AAEA,UAAMC,kBAAkB,GAAGD,EAAE,CAACE,UAAH,CAAc,YAAd,CAA3B;AAEA,UAAMC,MAAM,GAAG,MAAMF,kBAAkB,CAACG,gBAAnB,CACnB;AAAEC,MAAAA,GAAG,EAAEf,QAAQ,CAACK,IAAI,CAACW,EAAN;AAAf,KADmB,EAEnB;AAAEC,MAAAA,IAAI,EAAE;AAAEC,QAAAA,IAAI,EAAEb,IAAI,CAACa,IAAb;AAAmBC,QAAAA,IAAI,EAAEd,IAAI,CAACc,IAA9B;AAAoCC,QAAAA,EAAE,EAAEf,IAAI,CAACe;AAA7C;AAAR,KAFmB,EAGnB;AAAEC,MAAAA,cAAc,EAAE,KAAlB;AAAyBC,MAAAA,MAAM,EAAE;AAAjC,KAHmB,CAArB;AAKAf,IAAAA,OAAO,CAACC,GAAR,CAAYK,MAAZ;AAEAV,IAAAA,GAAG,CAACoB,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB;AACD;AACF;;AAED,eAAexB,OAAf","sourcesContent":["import clientPromise from '../../lib/mongodb'\nimport { ObjectId } from 'mongodb';\n\n// /api/edit-record\n// PUT /api/edit-record\n\nasync function handler(req, res) {\n  if (req.method === 'PUT') {\n\n    const data = req.body;\n    console.log(\"Data to be edit\", data)\n\n    const client = await clientPromise\n    const db = client.db('Education');\n\n    const recordsCollections = db.collection('uni-record');\n\n    const result = await recordsCollections.findOneAndUpdate(\n      { _id: ObjectId(data.id) },\n      { $set: { name: data.name, from: data.from, to: data.to } },\n      { returnOriginal: false, upsert: true });\n\n    console.log(result);\n\n    res.status(201).json({ message: 'Record Updated!' });\n  }\n}\n\nexport default handler;"]},"metadata":{},"sourceType":"module"}